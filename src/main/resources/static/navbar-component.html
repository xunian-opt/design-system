<!-- navbar-component.html - å¯¼èˆªæ ç»„ä»¶ -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>å¯¼èˆªæ ç»„ä»¶</title>
</head>
<body>
  <script>
    // å¯¼èˆªæ ç»„ä»¶ç±»
    class NavbarComponent {
      constructor(options = {}) {
        this.currentPage = options.currentPage || '';
        this.username = options.username || 'admin';
      }
      
      // è·å–é¡¶éƒ¨æ HTML
      getTopBarHTML() {
        return `
          <div class="top-bar">
            <h1>è£…ä¿®å…¬å¸ç®¡ç†ç³»ç»Ÿ</h1>
            <div class="user-info">
              <span>ç®¡ç†å‘˜: ${this.username}</span>
              <button onclick="NavbarComponent.logout()">é€€å‡ºç™»å½•</button>
            </div>
          </div>
        `;
      }
      
      // è·å–ä¾§è¾¹æ HTML
      getSidebarHTML() {
        const menuItems = [
          { id: 'home', icon: 'ğŸ ', text: 'ç³»ç»Ÿé¦–é¡µ', link: 'index.html' },
          { 
            group: 'ç³»ç»Ÿç®¡ç†',
            items: [
              { id: 'profile', icon: 'ğŸ‘¤', text: 'ä¸ªäººä¸­å¿ƒ', link: 'profile.html' },
              { id: 'users', icon: 'ğŸ‘¥', text: 'ç”¨æˆ·ç®¡ç†', link: 'users.html', submenu: [
                { id: 'user-list', text: 'ç”¨æˆ·', link: 'users.html' }
              ]}
            ]
          },
          {
            group: 'ä¸šåŠ¡ç®¡ç†',
            items: [
              { id: 'employee', icon: 'ğŸ‘·', text: 'å‘˜å·¥ä¿¡æ¯ç®¡ç†', link: 'employee.html' },
              { id: 'company', icon: 'ğŸ¢', text: 'å…¬å¸ä¿¡æ¯ç®¡ç†', link: 'gongsixinxi.html' },
              { id: 'category', icon: 'ğŸ“¦', text: 'å•†å“åˆ†ç±»ç®¡ç†', link: 'category.html' },
              { id: 'product', icon: 'ğŸ›ï¸', text: 'è£…ä¿®å•†å“ç®¡ç†', link: 'product.html' },
              { id: 'work', icon: 'ğŸ¨', text: 'è£…ä¿®ä½œå“ç®¡ç†', link: 'work.html' },
              { id: 'system', icon: 'âš™ï¸', text: 'ç³»ç»Ÿç®¡ç†', link: 'system.html' },
              { id: 'order', icon: 'ğŸ“‹', text: 'è®¢å•ç®¡ç†', link: 'order.html' }
            ]
          }
        ];
        
        let html = '<div class="sidebar">';
        
        menuItems.forEach(item => {
          if (item.group) {
            html += `<div class="menu-group">`;
            html += `<div class="menu-group-title">${item.group}</div>`;
            item.items.forEach(subItem => {
              const isActive = this.currentPage === subItem.id ? 'active' : '';
              html += `
                <div class="menu-item ${isActive}" onclick="NavbarComponent.navigate('${subItem.link}')">
                  <span class="icon">${subItem.icon}</span>
                  <span>${subItem.text}</span>
                </div>
              `;
              if (subItem.submenu) {
                subItem.submenu.forEach(sub => {
                  const subActive = this.currentPage === sub.id ? 'active' : '';
                  html += `
                    <div class="submenu menu-item ${subActive}" onclick="NavbarComponent.navigate('${sub.link}')">
                      <span>${sub.text}</span>
                    </div>
                  `;
                });
              }
            });
            html += `</div>`;
          } else {
            const isActive = this.currentPage === item.id ? 'active' : '';
            html += `
              <div class="menu-item ${isActive}" onclick="NavbarComponent.navigate('${item.link}')">
                <span class="icon">${item.icon}</span>
                <span>${item.text}</span>
              </div>
            `;
          }
        });
        
        html += '</div>';
        return html;
      }
      
      // è·å–å®Œæ•´å¸ƒå±€HTML
      getLayoutHTML(contentHTML) {
        return `
          ${this.getTopBarHTML()}
          <div class="main-container">
            ${this.getSidebarHTML()}
            <div class="content">
              ${contentHTML}
            </div>
          </div>
        `;
      }
      
      // è·å–CSSæ ·å¼
      static getStyles() {
        return `
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            
            body {
              font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Microsoft YaHei", sans-serif;
              background: #f0f2f5;
              min-height: 100vh;
            }
            
            /* é¡¶éƒ¨å¯¼èˆªæ  */
            .top-bar {
              height: 60px;
              background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
              color: white;
              display: flex;
              align-items: center;
              justify-content: space-between;
              padding: 0 24px;
              box-shadow: 0 2px 8px rgba(0,0,0,0.15);
              position: fixed;
              top: 0;
              left: 0;
              right: 0;
              z-index: 1000;
            }
            
            .top-bar h1 {
              font-size: 20px;
              font-weight: 600;
            }
            
            .user-info {
              display: flex;
              align-items: center;
              gap: 12px;
              font-size: 14px;
            }
            
            .user-info button {
              padding: 6px 16px;
              background: rgba(255,255,255,0.2);
              border: 1px solid rgba(255,255,255,0.3);
              color: white;
              border-radius: 4px;
              cursor: pointer;
              transition: all 0.3s;
            }
            
            .user-info button:hover {
              background: rgba(255,255,255,0.3);
            }
            
            /* ä¸»å®¹å™¨ */
            .main-container {
              display: flex;
              margin-top: 60px;
              min-height: calc(100vh - 60px);
            }
            
            /* ä¾§è¾¹æ  */
            .sidebar {
              width: 220px;
              background: #001529;
              color: white;
              flex-shrink: 0;
              overflow-y: auto;
            }
            
            .menu-item {
              padding: 16px 24px;
              cursor: pointer;
              transition: all 0.3s;
              border-left: 3px solid transparent;
              display: flex;
              align-items: center;
              gap: 10px;
              font-size: 14px;
            }
            
            .menu-item:hover {
              background: rgba(255,255,255,0.1);
            }
            
            .menu-item.active {
              background: #1890ff;
              border-left-color: #40a9ff;
            }
            
            .menu-item .icon {
              width: 16px;
              height: 16px;
              display: inline-block;
            }
            
            .menu-group {
              margin-top: 8px;
            }
            
            .menu-group-title {
              padding: 16px 24px 8px;
              font-size: 12px;
              color: rgba(255,255,255,0.5);
              text-transform: uppercase;
            }
            
            .submenu {
              padding-left: 48px;
            }
            
            /* ä¸»å†…å®¹åŒº */
            .content {
              flex: 1;
              padding: 24px;
              overflow-y: auto;
            }
            
            /* é¢åŒ…å±‘ */
            .breadcrumb {
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 14px;
              color: #666;
            }
            
            .breadcrumb span {
              color: #1890ff;
            }
            
            /* å†…å®¹å¡ç‰‡ */
            .content-card {
              background: white;
              border-radius: 8px;
              box-shadow: 0 2px 8px rgba(0,0,0,0.06);
              padding: 24px;
            }
            
            /* æœç´¢æ  */
            .search-bar {
              display: flex;
              gap: 12px;
              margin-bottom: 20px;
              flex-wrap: wrap;
              align-items: flex-end;
            }
            
            .search-field {
              display: flex;
              flex-direction: column;
              gap: 6px;
            }
            
            .search-field label {
              font-size: 14px;
              color: #333;
            }
            
            .search-field input {
              padding: 8px 12px;
              border: 1px solid #d9d9d9;
              border-radius: 4px;
              font-size: 14px;
              width: 200px;
              outline: none;
              transition: all 0.3s;
            }
            
            .search-field input:focus {
              border-color: #1890ff;
              box-shadow: 0 0 0 2px rgba(24,144,255,0.1);
            }
            
            /* å·¥å…·æ  */
            .toolbar {
              display: flex;
              gap: 12px;
              margin-bottom: 20px;
            }
            
            .btn {
              padding: 8px 16px;
              border: none;
              border-radius: 4px;
              font-size: 14px;
              cursor: pointer;
              transition: all 0.3s;
              display: inline-flex;
              align-items: center;
              gap: 6px;
            }
            
            .btn-primary {
              background: #1890ff;
              color: white;
            }
            
            .btn-primary:hover {
              background: #40a9ff;
            }
            
            .btn-danger {
              background: #ff4d4f;
              color: white;
            }
            
            .btn-danger:hover {
              background: #ff7875;
            }
            
            .btn-search {
              background: #1890ff;
              color: white;
            }
            
            /* è¡¨æ ¼ */
            .table-container {
              overflow-x: auto;
              margin-bottom: 20px;
            }
            
            table {
              width: 100%;
              border-collapse: collapse;
              font-size: 14px;
            }
            
            thead {
              background: #fafafa;
            }
            
            th {
              padding: 12px 16px;
              text-align: left;
              font-weight: 600;
              color: #333;
              border-bottom: 1px solid #f0f0f0;
              white-space: nowrap;
            }
            
            td {
              padding: 12px 16px;
              border-bottom: 1px solid #f0f0f0;
              color: #666;
            }
            
            tbody tr {
              transition: background 0.3s;
            }
            
            tbody tr:hover {
              background: #fafafa;
            }
            
            .action-btns {
              display: flex;
              gap: 8px;
            }
            
            .btn-sm {
              padding: 4px 12px;
              font-size: 13px;
            }
            
            .btn-success {
              background: #52c41a;
              color: white;
            }
            
            .btn-success:hover {
              background: #73d13d;
            }
            
            .btn-info {
              background: #1890ff;
              color: white;
            }
            
            .btn-info:hover {
              background: #40a9ff;
            }
            
            /* åˆ†é¡µ */
            .pagination {
              display: flex;
              justify-content: center;
              align-items: center;
              gap: 12px;
              margin-top: 20px;
            }
            
            .pagination button {
              padding: 6px 12px;
              border: 1px solid #d9d9d9;
              background: white;
              border-radius: 4px;
              cursor: pointer;
              transition: all 0.3s;
            }
            
            .pagination button:hover:not(:disabled) {
              border-color: #1890ff;
              color: #1890ff;
            }
            
            .pagination button:disabled {
              opacity: 0.5;
              cursor: not-allowed;
            }
            
            .page-info {
              color: #666;
              font-size: 14px;
            }
            
            /* æ¶ˆæ¯æç¤º */
            .msg {
              padding: 12px 16px;
              border-radius: 4px;
              margin-bottom: 16px;
              font-size: 14px;
              display: none;
            }
            
            .msg.show {
              display: block;
              animation: fadeIn 0.3s;
            }
            
            .msg.error {
              background: #fff1f0;
              border: 1px solid #ffccc7;
              color: #cf1322;
            }
            
            .msg.success {
              background: #f6ffed;
              border: 1px solid #b7eb8f;
              color: #389e0d;
            }
            
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(-10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            
            /* å¤é€‰æ¡† */
            input[type="checkbox"] {
              width: 16px;
              height: 16px;
              cursor: pointer;
            }
            
            /* æ¨¡æ€æ¡† */
            .modal {
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              z-index: 2000;
              align-items: center;
              justify-content: center;
            }
            
            .modal.show {
              display: flex;
            }
            
            .modal-content {
              background: white;
              border-radius: 8px;
              width: 90%;
              max-width: 700px;
              max-height: 90vh;
              overflow-y: auto;
            }
            
            .modal-header {
              padding: 20px 30px;
              border-bottom: 1px solid #e5e7eb;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            
            .modal-header h3 {
              font-size: 18px;
              color: #111827;
            }
            
            .modal-close {
              background: none;
              border: none;
              font-size: 24px;
              cursor: pointer;
              color: #6b7280;
              padding: 0;
              width: 30px;
              height: 30px;
            }
            
            .modal-body {
              padding: 30px;
            }
            
            .modal-form {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 20px;
            }
            
            .modal-form .form-group {
              display: flex;
              flex-direction: column;
              gap: 6px;
            }
            
            .modal-form .form-group.full-width {
              grid-column: 1 / -1;
            }
            
            .modal-form label {
              font-size: 14px;
              color: #333;
            }
            
            .modal-form input,
            .modal-form select {
              padding: 8px 12px;
              border: 1px solid #d9d9d9;
              border-radius: 4px;
              font-size: 14px;
              outline: none;
            }
            
            .modal-form input:focus,
            .modal-form select:focus {
              border-color: #1890ff;
              box-shadow: 0 0 0 2px rgba(24,144,255,0.1);
            }
            
            .modal-footer {
              padding: 20px 30px;
              border-top: 1px solid #e5e7eb;
              display: flex;
              justify-content: flex-end;
              gap: 10px;
            }
            
            .btn-cancel {
              padding: 8px 16px;
              border: 1px solid #d9d9d9;
              background: white;
              border-radius: 4px;
              cursor: pointer;
              font-size: 14px;
            }
            
            .btn-cancel:hover {
              background-color: #f3f4f6;
            }
            
            /* å“åº”å¼ */
            @media (max-width: 768px) {
              .sidebar {
                position: fixed;
                left: -220px;
                height: calc(100vh - 60px);
                transition: left 0.3s;
                z-index: 100;
              }
              
              .sidebar.open {
                left: 0;
              }
              
              .search-bar {
                flex-direction: column;
              }
              
              .search-field input {
                width: 100%;
              }
            }
          </style>
        `;
      }
      
      // é™æ€æ–¹æ³•ï¼šé€€å‡ºç™»å½•
      static logout() {
        if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
          try {
            localStorage.removeItem('token');
          } catch (e) {
            console.warn('localStorage not available');
          }
          window.location.href = 'index.html';
        }
      }
      
      // é™æ€æ–¹æ³•ï¼šå¯¼èˆª
      static navigate(link) {
        window.location.href = link;
      }
    }
    
    // å¯¼å‡ºåˆ°å…¨å±€
    window.NavbarComponent = NavbarComponent;
  </script>
</body>
</html>